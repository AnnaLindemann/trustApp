@import "tailwindcss";

/* ========= Design Tokens (пастель) ========= */
:root {
  /* Базовые */
  --bg: #fcfffe; /* почти белый с лёгкой зеленью */
  --fg: #0f1a17; /* тёмный графит для текста */
  --muted: #6b7280; /* серый текст второстепенный */
  --border: #dbe7e4; /* тонкая мятная обводка */

  /* Пастельные акценты, которые используем */
  --brand-50: #effcf7;
  --brand-100: #d7f6ec;
  --brand-300: #8ee6cf; /* мята нежная (фокус инпута) */
  --brand-400: #5fd7bc;
  --brand-500: #34c4a6; /* основная мята (primary, meter) */
  --brand-600: #28a58b; /* hover/active */
  --brand-700: #1f8873;

  --rose-100: #ffe6f0; /* для потенциальных эмоциональных блоков */
  --sky-100: #e8f5ff; /* фон бейджа и part of notes */

  /* Радиусы/тени */
  --radius: 16px;
  --shadow: 0 6px 20px rgba(16, 24, 40, 0.08);
}

/* ========= Base ========= */
@layer base {
  html,
  body,
  #root {
    height: 100%;
  }

  body {
    background: var(--bg);
    color: var(--fg);
  }

  :focus-visible {
    outline: 2px solid var(--brand-400);
    outline-offset: 2px;
  }
}

/* ========= Utilities (токены под твои классы) ========= */
@layer utilities {
  .bg-bg {
    background: var(--bg);
  }

  .text-fg {
    color: var(--fg);
  }

  .text-muted {
    color: var(--muted);
  }

  .border-token {
    border-color: var(--border);
  }

  .card {
    background: #fff;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }
}

/* ========= Components ========= */
@layer components {
  /* Кнопки */
  .btn {
    @apply inline-flex items-center justify-center px-4 h-11 rounded-2xl text-sm font-medium transition
           disabled:opacity-50 disabled:cursor-not-allowed;
    border: 1px solid transparent;
  }

  .btn-primary {
    background: var(--brand-500);
    color: #fff;
  }

  .btn-primary:hover {
    background: var(--brand-600);
  }

  .btn-primary:active {
    background: var(--brand-700);
  }

  .btn-ghost {
    background: var(--brand-50);
    color: var(--fg);
    border-color: var(--border);
  }

  .btn-ghost:hover {
    background: var(--brand-100);
  }

  /* Поля ввода */
  .input {
    @apply h-11 px-3 rounded-2xl w-full text-sm;
    background: #fff;
    border: 1px solid var(--border);
    transition: box-shadow 0.2s, border-color 0.2s;
  }

  .input:focus {
    border-color: var(--brand-400);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--brand-300) 50%, transparent);
    outline: none;
  }

  /* Бейджик/чип (ScoreBadge) */
  .badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    font-size: 0.8125rem;
    background: var(--sky-100);
    color: #075985;
    border: 1px solid var(--border);
  }

  /* Инфо-блоки (Repair) */
  .note-sky {
    background: var(--sky-100);
  }

  .note-mint {
    background: var(--brand-50);
  }

  /* ---- Trust Meter ---- */
  .meter-track {
    /* плавный градиент: красный → жёлтый → зелёный */
    background: linear-gradient(
      90deg,
      #ef4444 0%,
      /* red-500 */ #f59e0b 40%,
      /* amber-500 */ #84cc16 70%,
      /* lime-500 */ var(--brand-500) 100%
    );
    box-shadow: inset 0 1px 2px rgba(16, 24, 40, 0.12);
  }

  .meter-thumb {
    width: 18px;
    height: 18px;
    margin-left: -9px; /* центрируем по точке */
    border-radius: 999px;
    background: #fff;
    border: 2px solid color-mix(in srgb, var(--brand-500) 60%, #fff);
    box-shadow: 0 2px 10px rgba(16, 24, 40, 0.15);
    transition: left 0.25s ease;
  }
}
